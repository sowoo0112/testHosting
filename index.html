<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>검표 APP 다운로드 - etc</title>
    <meta charset="utf-8">
    <meta name="description" content="UI framework for source share">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport"
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
    <link rel="shortcut icon" href="/images/icons/favicon.ico">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/ticketAppDown.css">
    <!-- <script src="./js/jquery-1.11.2.min.js"></script> -->
    <!-- <script src="//code.jquery.com/jquery-3.3.1.min.js"></script> -->
    <!-- <script src="./js/jquery.bxslider.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>  -->
    <!-- <script src="jquery.bxslider/jquery.bxslider.js"></script> -->
    <script src="./js/iscroll-zoom.js"></script>
    <script src="./js/data.json" type="text/javascript"></script>

    <!-- <script type="text/javascript" src="./js/data.json"></script>
    <script type="text/javascript" src="javascrip.js"></script> -->
  </head>
  <body id="ticketAppDown">
    
    <div class="container ticketAppDown">
      <div class="innerWrap">
        <div class="titleWrap">
          <h1><img src="//openimage.interpark.com/2021/ticketAppDown/ci-inpass.svg" alt="in-pass">
          </h1>
          <h2>인터파크 티켓검표시스템</h2>
        </div>
        <div class="desktopMsg showDesktop">
          <img src="//openimage.interpark.com/2021/ticketAppDown/ic-error.svg" alt="에러">
          <p>모바일(Android 또는 iOS)에서만<br>이용할 수 있습니다.</p>
        </div>
        <div class="btn showMobile">
          <a href="javascript:googleClick();" class="btnAndroid">Android</a>
          <a href="javascript:appleClick();" class="btnIphone">iPhone</a>
        </div>
        <ul class="notice showMobile">
          <li>제공된 개인정보는 디바이스에 저장되지 않습니다.</li>
          <li>해당 애플리케이션은 외부에 유포하거나 대여할 수 없습니다.</li>
          <li>허가된 사용자만 사용할 수 있습니다.</li>
          <li>카메라 권한이 필요한 서비스입니다.</li>
          <li>Android 6.0이상 iOS 13.0이상에서 사용할 수 있습니다.</li>
        </ul>
      </div>
    </div>
    <script>

      function appleClick(){
        fetch('./js/data.json')
          .then(response => response.json())
          .then(jsonResponse => {
            console.log(jsonResponse)
            console.log(jsonResponse[0].iOS)
            console.log(jsonResponse[0].Android)
            window.location.href = jsonResponse[0].iOS
          })
      }
      function googleClick(){
        fetch('./js/data.json')
          .then(response => response.text())
          .then(jsonResponse => {
            console.log(jsonResponse)
            console.log(jsonResponse[0].iOS)
            console.log(jsonResponse[0].Android)
            window.location.href = jsonResponse[0].Android
          })
      }
  


/*
[JS 요약 설명]
1. window.onload : 웹페이지 로드 완료 상태를 나타냅니다
2. JSON.stringify : json 형식 데이터를 문자열로 나타내줍니다
3. JSON.parse : json 데이터를 파싱해서 사용합니다
4. 참고 : 로컬에 저장되는 json 파일에서 특정 변수명을 지정해줘야 정상적으로 json 파일을 로드할 수 있습니다    	
*/



/* [html 최초 로드 및 이벤트 상시 대기 실시] */
window.onload = function() {
  console.log("");
  console.log("[window onload] : [start]");
  console.log(""); 

  // [이벤트 함수 호출]
  main();
}; 		



/* [이벤트 수행 함수] */
function main(){
  console.log("");
  console.log("[main] : [start]"); 
  console.log("");


  //로컬 assets 파일에 저장된 json 파일 읽기 실시 [json 파일에 선언된 변수이름으로 호출해야합니다]
  var jsonData = JSON.parse(JSON.stringify(test));
  console.log("");
  console.log("[main] : [jsonData] : " + JSON.stringify(jsonData)); 
  console.log("");


  //json 데이터 파싱 실시
  console.log("");
  console.log("[main] : [idx] : " + jsonData.idx); 
  console.log("[main] : [name] : " + jsonData.name); 
  console.log("[main] : [program] : " + JSON.stringify(jsonData.program)); 
  console.log("");

};


    </script>
  </body>
</html>
